# PRD｜Ego‑Echo（职场压力复原）微信小程序 MVP

- **产品代号**：Ego‑Echo
- **模块**：职场压力复原（Workplace Recovery）
- **产品形态**：微信小程序（前端） + 后端服务（对话编排/安全/计费/埋点） + LLM API
- **版本**：v0.1（MVP）
- **目标用户**：toC（高压职场人群）
- **更新日期**：2025-12-26

---

## 1. 背景与机会
职场高压环境下，用户常在“被否定/失误/冲突/线上事故”等触发事件后出现：焦虑、羞耻、自责、愤怒、反刍、冲动沟通等状态。现有替代方案（刷短视频、找朋友吐槽、硬扛、临时搜索话术）要么效率低、要么成本高、要么不够私密与稳定。

**机会点**：在微信小程序提供“10–12 分钟情绪复原闭环”，将用户从“情绪失控/反刍”推进到“稳定 + 可行动 + 可沟通”。

---

## 2. JTBD 定义（核心 Job）
**Job Story**：
当我在工作中被否定/出错/冲突导致情绪开始“自责-反刍-失控”时，我想用一个安全、不评判的方式快速降下情绪，并把问题转成清晰的下一步行动与沟通表达，以便于我在 10–20 分钟内恢复工作能力，避免冲动沟通与持续内耗。

**完成 Job 的 Outcomes（可测）**：
- **即时复原**：会话前后情绪自评分（0–10）下降 ≥ 2 的占比
- **可行动**：输出 1–3 个 24h 内可完成的最小行动，并被用户确认
- **可沟通**：生成并复制/使用沟通脚本（向上/平级/向下），降低冲突概率
- **次日稳定**：次日回访情绪回弹不明显；行动完成率提升

---

## 3. 目标与非目标
### 3.1 目标（MVP）
- 提供**强结构**的“复原流程”：分诊 → 微干预 → 行动计划 → 沟通脚本 → 轻量次日回访
- 让用户每次使用都能在 10–12 分钟内获得可感知改善（情绪下降、行动明确、话术可发）
- 以**隐私与安全边界**为核心能力：最小化数据、可控记忆、一键清空、危机提示

### 3.2 非目标（v0.1 不做）
- 不做心理诊断/治疗替代、不做药物建议
- 不做 3D 虚拟形象/视频通话
- 不做跨平台情绪监测（高隐私/高合规成本）
- 不做“全能陪伴”泛聊定位（MVP 专注职场复原）

---

## 4. 目标用户（ICP）与场景
### 4.1 ICP（建议从一个切片起步）
- **ICP‑1（优先）**：互联网/咨询/产品/研发/运营，一线执行岗；高频评审/汇报/协作；常见触发：review 被否、deadline、线上事故。

### 4.2 高频触发场景
- 评审被否/被当众质疑能力
- 线上事故/业务指标崩、背锅
- 同事甩锅/协作失控
- 领导批评/绩效压力

---

## 5. MVP 范围（功能清单）
### 5.1 Must‑have
- **一键入口**（四类触发）+ **模式选择**（倾听/复原+行动/写话术）
- **60 秒分诊**：情绪强度、触发事件一句话、最担心后果
- **微干预工具箱**（至少 2 种）：证据法 / 认知卸载 / 90 秒呼吸
- **复原报告**：情绪变化、最小行动、风险提示、应急卡
- **沟通脚本生成**：向上/平级/向下 + 语气滑杆（柔和/中性/坚定）+ 一键复制
- **次日 30 秒回访**（可关闭）：情绪复测、行动完成
- **隐私设置**：记忆开关、一键清空、导出/删除
- **危机内容提示**：自伤/他伤/极端内容出现时的强提示与求助指引

### 5.2 Nice‑to‑have（v0.2+）
- 个体化“有效干预偏好”自动推荐
- 多场景模板库扩展（述职、争取资源、拒绝、复盘）
- 团队协作场景（会议前 3 分钟复原）

---

## 6. 用户流程（主路径）
### 6.1 主路径（10–12 分钟闭环）
1) 选择触发入口（被否定/出事故/冲突/想复盘）
2) 选择模式（默认“复原+行动”）
3) 60 秒分诊（三问）
4) 微干预（选 1 个，3 分钟）
5) 生成复原报告（行动 1–3 条 + 风险提示）
6) 生成沟通脚本（可选）并复制
7) 结束会话，开启次日回访（可选）

### 6.2 备选路径
- **只倾听**：不输出行动/脚本，仅做共情 + 澄清 + 情绪下降确认
- **只写话术**：快速收集事实 → 输出脚本 → 语气调节 → 一键复制

---

## 7. 页面与交互（小程序）
> 目标：页面少、路径短、结构强、用户控制感强。

### 7.1 首页（Home）
- **模块**：
  - 一键入口：`被否定了` / `出事故了` / `冲突了` / `想复盘`
  - 模式选择：`只倾听` / `复原+行动` / `写沟通话术`
  - 最近一次复原卡片（可继续/复看）
- **交互**：点击入口 → 进入对话页并带入“触发类型”上下文

### 7.2 对话页（Session Chat）
- **顶部**：当前模式 + 可切换（切换需确认，避免打断）
- **主体**：聊天流（支持语音输入转文字）
- **侧边工具箱**：`证据法` / `认知卸载` / `90秒呼吸`（点选即插入结构化引导卡片）
- **分诊卡**：三问组件（0–10 滑杆 + 两个短输入）
- **阶段提示**：进度条（分诊 → 工具 → 行动 → 话术）
- **结束**：生成复原报告按钮

### 7.3 复原报告页（Recovery Report）
- **结构**：
  - 情绪变化：前/后评分
  - 一句话复原结论（情绪命名 + 触发总结）
  - 最小行动 1–3 条（可勾选）
  - 风险提示（如：情绪 8+ 不建议发送信息）
  - 应急卡（反刍时 90 秒动作 + 自我提示）
  - 话术入口：选择对象（向上/平级/向下）

### 7.4 话术页（Scripts）
- **输入**：沟通对象、目标（澄清/争取支持/复盘/道歉）
- **语气滑杆**：柔和 / 中性专业 / 坚定
- **输出**：3 个可选版本 + 关键点解释（可折叠）
- **操作**：一键复制、收藏到“模板库”（仅保存标题与模板，不保存事件细节）

### 7.5 设置与隐私（Settings & Privacy）
- 记忆开关（默认关闭，建议“只记偏好不记内容”）
- 一键清空对话与数据
- 导出（仅导出复原报告/行动清单，默认脱敏）
- 危机求助信息（热线/就医提示等）

---

## 8. AI 对话与 Prompt 设计
### 8.1 角色与原则（System Prompt 要点）
- 目标：帮助用户**情绪稳定 + 行动化 + 沟通可控**
- 风格：共情、简洁、不过度鸡汤；避免评判
- 边界：不做诊断、不开药、不替代心理治疗
- 安全：若出现自伤/他伤/极端内容，进入危机流程（强提示 + 求助指引）

### 8.2 输入结构（后端组装，减少幻觉）
- triggerType：NEGATIVE_FEEDBACK / INCIDENT / CONFLICT / RETRO
- mode：LISTEN_ONLY / RECOVER_AND_ACT / WRITE_SCRIPT
- emotionScoreBefore：0–10
- eventSummary：一句话事实描述（<= 200 字）
- worstConcern：最担心后果（<= 200 字）
- userPrefs（可选）：偏好（更直接/更温柔/更结构化）

### 8.3 输出结构（JSON Schema，便于前端渲染）
- empathy：1–3 句共情复述
- clarifyQuestions：最多 2 个澄清问题（若必要）
- intervention：{ type, steps[], durationSeconds }
- actionPlan：[{ title, why, etaHours }]
- scriptOptions（可选）：[{ audience, tone, text }]
- safetyFlags：{ selfHarmRisk, violenceRisk, medicalRisk }

### 8.4 危机识别与处置
- **识别**：关键词 + 分类模型双通道（降低漏报）
- **处置**：停止继续推演；给出求助渠道；建议联系现实支持；如适用提示紧急服务

### 8.5 记忆策略（合规优先）
- 默认不记对话内容
- 仅记“偏好与有效干预类型”（例如：证据法对你有效）
- 提供 TTL 与一键删除

---

## 9. 数据结构（后端）
> 所有用户标识使用 openid 的不可逆映射/内部 userId；避免存储手机号、邮箱等。

- **User**：userId、createdAt
- **Preference**：userId、modeDefault、toneDefault、memoryEnabled、effectiveTools[]
- **Session**：sessionId、userId、triggerType、mode、createdAt、emotionBefore、emotionAfter
- **Message（可选/不建议长期存）**：仅用于短期调试；默认关闭；如开启需脱敏+短 TTL
- **Report**：sessionId、summary、actionPlan、emergencyCard
- **CheckIn**：sessionId、userId、emotionNextDay、actionDoneCount

---

## 10. API 设计（示例）
### 10.1 创建会话
- `POST /v1/sessions`

Request:
```json
{
  "triggerType": "NEGATIVE_FEEDBACK",
  "mode": "RECOVER_AND_ACT"
}
```
Response:
```json
{
  "sessionId": "sess_xxx",
  "createdAt": "2025-12-26T00:00:00Z"
}
```

### 10.2 提交分诊与获取 AI 响应
- `POST /v1/sessions/{sessionId}/messages`

Request:
```json
{
  "emotionScoreBefore": 8,
  "eventSummary": "评审会上被指出方案不靠谱，我感觉很丢脸。",
  "worstConcern": "担心领导认为我不行，影响绩效。",
  "userText": "我现在脑子停不下来。"
}
```
Response:
```json
{
  "empathy": "我听到你在评审被否定后非常难受，也担心这会影响绩效，这种反刍很折磨人。",
  "clarifyQuestions": ["你现在更像是焦虑还是羞耻（丢脸）占多一点？"],
  "intervention": {
    "type": "EVIDENCE_CHECK",
    "durationSeconds": 180,
    "steps": [
      "把脑子里最刺耳的那句话写下来（例如：‘我不行’）",
      "写一条支持它的证据",
      "再写一条反证（哪怕很小）"
    ]
  },
  "actionPlan": [
    {"title": "把评审反馈点整理成 3 条可改项", "why": "把评价从人格攻击拉回到可改的问题", "etaHours": 24},
    {"title": "约 15 分钟和 leader 对齐预期", "why": "降低不确定性带来的焦虑", "etaHours": 48}
  ],
  "scriptOptions": [],
  "safetyFlags": {"selfHarmRisk": false, "violenceRisk": false, "medicalRisk": false}
}
```

### 10.3 生成复原报告
- `POST /v1/sessions/{sessionId}/report`

Request:
```json
{ "emotionScoreAfter": 5 }
```

### 10.4 生成沟通脚本
- `POST /v1/scripts`

Request:
```json
{
  "sessionId": "sess_xxx",
  "audience": "UP",
  "goal": "ALIGN_EXPECTATION",
  "tone": "NEUTRAL"
}
```

### 10.5 次日回访
- `POST /v1/checkins`

Request:
```json
{
  "sessionId": "sess_xxx",
  "emotionNextDay": 4,
  "actionDoneCount": 1
}
```

### 10.6 删除用户数据
- `DELETE /v1/user-data`

---

## 11. 埋点与指标
### 11.1 核心埋点（事件名示例）
- `app_open`
- `quick_entry_click`（triggerType）
- `mode_select`
- `triage_submit`（emotionBefore）
- `tool_use`（toolType）
- `report_generate`（emotionAfter）
- `script_generate`
- `script_copy`
- `checkin_submit`
- `privacy_delete`

### 11.2 核心 KPI
- Δ情绪（emotionBefore - emotionAfter）的分布与达标率（≥2）
- 复原报告生成率
- 话术复制率
- 次日回访完成率与行动完成率
- 7/14/30 留存（按 triggerType 分群）
- 安全指标：危机触发率、误报率、投诉率

---

## 12. 实验计划（两周内可跑）
- **实验 A（默认模式）**：默认“复原+行动” vs “只倾听”，对比 Δ情绪达标率、复原报告生成率
- **实验 B（话术入口）**：报告页显式话术入口 vs 隐藏到二级页面，对比 script_copy
- **实验 C（次日回访）**：默认关闭 vs 默认开启（需强合规提示），对比 7 日留存与行动完成率

---

## 13. 商业化（MVP 可选）
- 免费：每日 1 次完整复原流程 + 基础话术
- 付费（订阅/次卡）：
  - 话术高级模板库（述职/争取资源/拒绝/复盘）
  - 语气滑杆更多风格（更强硬/更圆融/更简洁）
  - 个体化“最有效工具”推荐

---

## 14. 合规与隐私（小程序关键要求）
- 数据最小化：仅收集功能所需字段；不要求通讯录等敏感权限
- 明示告知：隐私政策、数据用途、存储策略、删除方式
- 一致性：代码实际行为与隐私声明一致
- 用户控制：记忆开关、一键清空、删除/导出
- 安全：服务端保管密钥；端到端传输加密；日志不写入敏感内容

---

## 15. 里程碑（建议）
- **D1–D3**：小程序页面骨架 + 后端会话/埋点接口
- **D4–D7**：Prompt/结构化输出 + 复原报告 + 话术生成
- **D8–D10**：危机识别/隐私设置/删除数据
- **D11–D14**：实验开关 + 数据看板 + 小流量灰度

---

## 16. 备注：成功的判断
MVP 不是“聊得像人”，而是让用户在触发时刻获得可测的进步：
- **情绪下降**、**行动明确**、**沟通更稳**。
