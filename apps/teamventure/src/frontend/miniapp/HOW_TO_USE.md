# AI智能填充 - 使用指南

## 🎯 30秒快速上手

### 步骤1: 打开页面
在微信开发者工具中，导航到 **"生成方案"** 页面

### 步骤2: 点击AI填充
点击页面顶部右侧的 **"✨ AI填充"** 按钮（紫色渐变）

### 步骤3: 填写3个信息
```
天数:    3           ← 输入数字（1-9）
出发地:  北京         ← 输入城市名
到达地:  青岛         ← 输入城市名
```

### 步骤4: 确认填充
点击 **"确认填充"** 按钮

### 步骤5: 等待1.8秒
观察动画效果：
```
⚡ AI 生成中 🔄
████████████░░░░░░░░ 60%  ← 进度条增长
正在为您生成个性化团建方案
```

### 步骤6: 查看结果
自动展示生成的完整markdown模板！

## ✨ 核心优势

### 简化输入
**旧方式**：需要填写20+个字段
- 天数、人数、预算
- 出发地、到达地、途经地
- 去程交通、返程交通
- 每日住宿安排（入住/出发）
- 活动偏好
- 特殊要求

**新方式**：只需3个核心字段
- ✅ 天数
- ✅ 出发地
- ✅ 到达地

其他字段AI自动生成！

### 智能逻辑

#### 自动计算住宿晚数
```
输入: 3天
生成: 3天2夜  ✅

输入: 5天
生成: 5天4夜  ✅
```

#### 自动处理最后一天
```
### 第三日
- **出发**: 青岛XX酒店
<!-- 当日返程，无需入住 -->  ← AI自动标记
```

#### 自动插入途经点
```
3天  → 无途经点
5天  → 1个途经点（第3天）
7天  → 2个途经点（第3、5天）
9天  → 3个途经点（第3、5、7天）
```

## 🎨 界面说明

### 正常状态
```
┌────────────────────────────────────────────┐
│ ✏️ 直接修改示例  [✨AI填充] [🔄重置]      │
├────────────────────────────────────────────┤
│ # 团建行程方案                             │
│                                            │
│ ## 基本信息                                │
│ - **天数**: 3天2夜                         │
│ ...                                        │
│                                            │
│ [   AI 生成方案   ]  ← 大按钮             │
└────────────────────────────────────────────┘
```

### AI生成中
```
┌────────────────────────────────────────────┐
│ ✏️ 直接修改示例  [✨AI填充] [🔄重置]      │  ← 变灰禁用
├────────────────────────────────────────────┤
│                                            │
│        ⚡ AI 生成中 🔄                     │  ← 图标旋转
│                                            │
│        ████████████░░░░░░░░ 60%          │  ← 进度条
│                                            │
│        正在为您生成个性化团建方案           │
│                                            │
│ [   AI 生成方案   ]  ← 禁用               │
└────────────────────────────────────────────┘
```

### 生成完成
```
┌────────────────────────────────────────────┐
│ ✏️ 直接修改示例  [✨AI填充] [🔄重置]      │  ← 恢复可点击
├────────────────────────────────────────────┤
│ # 团建行程方案                             │
│                                            │
│ ## 基本信息                                │  ← 生成的内容
│ - **天数**: 3天2夜                         │
│ - **人数**: 30人                           │
│ - **出发地**: 北京                         │
│ - **到达地**: 青岛                         │
│ ...                                        │
│                                            │
│ [   AI 生成方案   ]  ← 恢复可用           │
└────────────────────────────────────────────┘

        Toast: "AI填充完成" ✅
```

## 💡 使用技巧

### 技巧1: 快速修改
生成后如需调整：
- 选中任意文本直接修改（如"30人" → "50人"）
- 删除不需要的行（如途经地）
- 添加自定义内容（如特殊要求）

### 技巧2: 重新生成
想换个目的地？
1. 点击"🔄 重置"清空
2. 再次点击"✨ AI填充"
3. 输入新的天数/城市

### 技巧3: 混合模式
AI填充 + 手动微调：
1. AI填充生成基础框架
2. 手动补充具体细节：
   - 交通班次（如"G123次"）
   - 酒店名称（如"青岛香格里拉"）
   - 途经城市（如"济南"）

## ⚠️ 注意事项

### 输入限制
- **天数**: 只能输入1-9的数字
- **出发地/到达地**: 建议输入城市名（如"北京"）

### 生成时间
- **正常**: 1.8秒
- **慢速网络**: 可能延长到3-5秒（如果接入远程AI）

### 按钮禁用
生成过程中（1.8秒内）：
- ❌ 无法点击"AI填充"
- ❌ 无法点击"重置"
- ❌ 无法点击"AI 生成方案"

这是正常现象，等待生成完成即可。

## 📞 问题反馈

遇到问题？检查以下内容：

### 1. 输入框无法输入
- 检查是否在generating状态
- 等待生成完成（1.8秒）

### 2. 按钮点击无反应
- 检查是否在generating状态
- 查看按钮是否变灰

### 3. 生成内容不对
- 检查输入的天数/城市是否正确
- 运行测试脚本验证逻辑：`node test-ai-fill.js`

### 4. 进度条不动
- 打开Console查看是否有错误
- 检查`generateProgress`数据是否更新

## 🚀 下一步

生成完成后，你可以：

1. **继续微调**
   - 补充交通班次
   - 填写酒店名称
   - 补充途经城市

2. **直接提交**
   - 点击"AI 生成方案"
   - 提交到后端生成完整方案

3. **保存草稿**
   - 页面会自动保存（24小时内有效）
   - 下次打开自动恢复

---

**开始使用**: 打开微信开发者工具 → 生成方案页 → 点击"✨ AI填充"

**测试时间**: 约2分钟
**学习成本**: 几乎为0（只需填3个字段）

祝使用愉快！🎉
