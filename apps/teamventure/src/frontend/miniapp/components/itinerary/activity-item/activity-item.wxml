<!--
  activity-item ç»„ä»¶ - å•ä¸ªæ´»åŠ¨é¡¹
  Props:
    - activity: { id, time_start, time_end, activity, location, note }
    - itemIndex: number
    - isFirst: boolean
    - isLast: boolean
    - isDragging: boolean
  Events:
    - edit, delete, copy, move, dragstart
-->
<view class="activity-item {{isDragging ? 'dragging' : ''}}"
      bindtap="onTapActivity"
      bindlongpress="onLongPress">
  <!-- æ´»åŠ¨å†…å®¹åŒºåŸŸ -->
  <view class="activity-content">
    <!-- æ—¶é—´åŒºåŸŸ -->
    <view class="activity-time">
      <text class="time-text">{{activity.time_start || '--:--'}}</text>
      <text class="time-separator">-</text>
      <text class="time-text">{{activity.time_end || '--:--'}}</text>
    </view>

    <!-- è¯¦æƒ…åŒºåŸŸ -->
    <view class="activity-details">
      <view class="activity-name">{{activity.activity || 'æœªå‘½åæ´»åŠ¨'}}</view>
      <view class="activity-location" wx:if="{{activity.location}}">
        <text class="icon-location">ğŸ“</text>
        <text class="location-text">{{activity.location}}</text>
      </view>
      <view class="activity-note" wx:if="{{activity.note}}">
        <text class="note-text">{{activity.note}}</text>
      </view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’®åŒºåŸŸ -->
  <view class="activity-actions">
    <!-- ä¸Šç§» -->
    <view class="action-btn small {{isFirst ? 'disabled' : ''}}"
          catchtap="onMoveUp"
          wx:if="{{!isFirst}}">
      <text class="icon">â†‘</text>
    </view>
    <!-- ä¸‹ç§» -->
    <view class="action-btn small {{isLast ? 'disabled' : ''}}"
          catchtap="onMoveDown"
          wx:if="{{!isLast}}">
      <text class="icon">â†“</text>
    </view>
    <!-- å¤åˆ¶ -->
    <view class="action-btn small" catchtap="onCopy">
      <text class="icon">ğŸ“‹</text>
    </view>
    <!-- åˆ é™¤ -->
    <view class="action-btn small danger" catchtap="onDelete">
      <text class="icon">âœ•</text>
    </view>
  </view>
</view>
