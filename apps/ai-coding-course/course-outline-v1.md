# AI辅助产品开发课程大纲（零代码版）

> **目标学员**: 完全零代码基础的产品人员
> **课程产出**: 可独立部署的微信小程序（前后端完整）
> **核心工具**: Manus（主力）、Claude Code（辅助）、GitHub（版本管理）
> **案例项目**: TeamVenture AI团建策划助手

---

## 课程设计原则

1. **MVP优先** - 从最小可用功能开始，逐步增加复杂度
2. **Manus主导** - 80%任务通过Manus完成，降低学习门槛
3. **可见价值** - 每节课产出可演示的功能
4. **渐进复杂** - 前端纯展示 → 前后端交互 → 完整系统

---

## 第一课：小红书内容导入（MVP功能）

### 学习目标
- 掌握Manus辅助前端开发的完整流程
- 实现：小红书链接 → 解析内容 → Markdown展示 → 本地保存
- 产出：可独立运行的小程序页面

### 技术范围（刻意简化）
```
┌─────────────────────────────────────────────────────┐
│  本课范围：纯前端实现                                 │
│                                                     │
│  用户输入链接 → 前端解析 → 渲染展示 → 本地存储        │
│       ↓              ↓          ↓          ↓        │
│    input组件    正则提取    Markdown    wx.storage  │
│                                                     │
│  【不涉及】后端API、数据库、用户系统                  │
└─────────────────────────────────────────────────────┘
```

### 课程内容（3小时）

#### 第一阶段：环境准备（30分钟）
| 步骤 | 工具 | 产出 |
|------|------|------|
| 1. 注册微信开发者账号 | 浏览器 | AppID |
| 2. 安装微信开发者工具 | 本地安装 | IDE就绪 |
| 3. 创建小程序项目 | 开发者工具 | 空项目 |
| 4. 连接GitHub仓库 | Manus | 版本管理就绪 |

**Manus提示词模板**：
```
帮我在GitHub创建一个新仓库，名称为 xhs-import-miniapp，
包含微信小程序的基础目录结构（pages/utils/components）
```

#### 第二阶段：页面搭建（60分钟）
| 步骤 | Manus提示词 | 产出 |
|------|-------------|------|
| 1. 首页布局 | "创建小程序首页，包含输入框和提交按钮，设计风格简洁" | index.wxml/wxss |
| 2. 结果页面 | "创建结果展示页，支持Markdown渲染，底部有保存按钮" | result.wxml/wxss |
| 3. 历史记录页 | "创建历史记录列表页，展示已保存的内容" | history.wxml/wxss |

**关键知识点**（讲解10分钟）：
- WXML = 小程序的HTML
- WXSS = 小程序的CSS
- JS = 页面逻辑

#### 第三阶段：核心功能实现（60分钟）

**功能1：链接解析**
```
Manus提示词：
"编写小程序JS代码，实现以下功能：
1. 用户输入小红书分享链接
2. 使用正则表达式提取笔记ID
3. 构造请求获取笔记内容（先用Mock数据）
4. 返回结构化数据（标题、正文、图片列表）"
```

**功能2：Markdown渲染**
```
Manus提示词：
"在小程序中集成Markdown渲染组件，要求：
1. 使用 towxml 或 wemark 组件
2. 支持图片、标题、列表等基础格式
3. 提供代码示例"
```

**功能3：本地存储**
```
Manus提示词：
"编写小程序代码，实现：
1. 将解析结果保存到 wx.setStorageSync
2. 从 wx.getStorageSync 读取历史记录
3. 支持删除单条记录"
```

#### 第四阶段：调试与部署（30分钟）
| 步骤 | 操作 | 检查点 |
|------|------|--------|
| 1. 本地预览 | 开发者工具预览 | 三个页面正常跳转 |
| 2. 真机调试 | 扫码预览 | 手机上功能正常 |
| 3. 代码提交 | Manus推送GitHub | 仓库有最新代码 |
| 4. 体验版发布 | 开发者工具上传 | 可分享给他人体验 |

### 课后作业
1. 修改UI配色为自己喜欢的风格
2. 添加"清空所有记录"功能
3. 尝试处理链接格式错误的情况

### 本课技术债务（下节课解决）
- [ ] Mock数据替换为真实API
- [ ] 添加后端存储
- [ ] 支持用户登录

---

## 第二课：方案状态机管理

### 学习目标
- 理解状态机在产品设计中的作用
- 掌握Claude Code辅助后端开发的方法
- 实现：方案的生命周期管理（创建→生成→确认→归档）

### 技术范围
```
┌─────────────────────────────────────────────────────┐
│  本课范围：前后端联调                                │
│                                                     │
│  小程序 ←──API──→ 后端服务 ←──→ 数据库              │
│    ↓                  ↓              ↓              │
│  状态展示          状态流转       状态持久化         │
│                                                     │
│  【新增】后端API、MySQL、状态机逻辑                  │
└─────────────────────────────────────────────────────┘
```

### 状态机设计（产品视角）

```
┌──────────────────────────────────────────────────────────────┐
│                     方案状态流转图                            │
│                                                              │
│   ┌─────────┐    提交生成    ┌────────────┐                  │
│   │  DRAFT  │ ──────────────→│ GENERATING │                  │
│   │  草稿   │                │   生成中   │                  │
│   └─────────┘                └─────┬──────┘                  │
│        ↑                          │                          │
│        │ 修改                     │ AI完成                   │
│        │                          ↓                          │
│   ┌─────────┐    确认方案    ┌────────────┐                  │
│   │CONFIRMED│ ←─────────────│ COMPLETED  │                  │
│   │  已确认  │               │   已完成   │                  │
│   └────┬────┘                └────────────┘                  │
│        │                                                     │
│        │ 归档                                                │
│        ↓                                                     │
│   ┌─────────┐                                               │
│   │ARCHIVED │                                               │
│   │  已归档  │                                               │
│   └─────────┘                                               │
└──────────────────────────────────────────────────────────────┘
```

### 课程内容（3小时）

#### 第一阶段：后端环境搭建（45分钟）

**使用Manus创建后端项目**：
```
Manus提示词：
"帮我创建一个Spring Boot项目，要求：
1. Java 17 + Spring Boot 3.2
2. 包含MySQL数据库配置
3. 创建Plan实体，包含字段：id, title, status, content, createdAt, updatedAt
4. status是枚举类型：DRAFT, GENERATING, COMPLETED, CONFIRMED, ARCHIVED
5. 提供Docker Compose配置启动MySQL"
```

**Claude Code辅助**（当Manus无法完成复杂逻辑时）：
```
Claude Code提示词：
"查看当前项目结构，帮我实现Plan状态机的流转逻辑，要求：
1. 状态只能按规定路径流转（DRAFT→GENERATING→COMPLETED→CONFIRMED→ARCHIVED）
2. 非法状态转换要抛出异常
3. 每次状态变更记录日志"
```

#### 第二阶段：API开发（60分钟）

| API | 方法 | 路径 | 状态变更 |
|-----|------|------|---------|
| 创建方案 | POST | /api/plans | → DRAFT |
| 提交生成 | POST | /api/plans/{id}/generate | DRAFT → GENERATING |
| 查询状态 | GET | /api/plans/{id} | 无变更 |
| 确认方案 | POST | /api/plans/{id}/confirm | COMPLETED → CONFIRMED |
| 归档方案 | POST | /api/plans/{id}/archive | CONFIRMED → ARCHIVED |

**Manus提示词**：
```
"基于Plan实体，创建REST API Controller，实现上述5个接口，
每个接口需要：
1. 参数校验
2. 状态检查
3. 返回标准JSON格式"
```

#### 第三阶段：前端对接（45分钟）

**Manus提示词**：
```
"修改小程序代码，对接后端API：
1. 在utils/api.js中封装HTTP请求
2. 创建方案列表页，展示不同状态的方案
3. 方案详情页显示当前状态和可用操作按钮
4. 按钮根据状态动态显示（如DRAFT状态显示'提交生成'按钮）"
```

#### 第四阶段：联调与测试（30分钟）

**测试检查清单**：
- [ ] 创建方案成功，状态为DRAFT
- [ ] 提交生成后状态变为GENERATING
- [ ] 模拟AI完成后状态变为COMPLETED
- [ ] 确认方案后状态变为CONFIRMED
- [ ] 归档后状态变为ARCHIVED
- [ ] 非法状态转换被拒绝

### 课后作业
1. 添加"方案列表筛选"功能（按状态筛选）
2. 实现"删除草稿"功能
3. 思考：如果需要"驳回"功能，状态机如何扩展？

---

## 第三课：用户权限设计

### 学习目标
- 理解Web应用的认证与授权
- 实现微信登录 + JWT令牌机制
- 实现：用户只能看到自己的方案

### 技术范围
```
┌─────────────────────────────────────────────────────┐
│  本课范围：完整系统                                  │
│                                                     │
│  微信登录 → 获取Token → 携带Token访问API → 数据隔离  │
│      ↓          ↓             ↓              ↓      │
│   wx.login    JWT生成     请求拦截器      userId   │
│                                                     │
│  【新增】登录流程、Token机制、数据权限                │
└─────────────────────────────────────────────────────┘
```

### 权限模型（产品视角）

```
┌──────────────────────────────────────────────────────┐
│                    用户数据隔离                       │
│                                                      │
│   用户A                          用户B               │
│   ┌─────────────┐               ┌─────────────┐     │
│   │ 方案1(DRAFT)│               │ 方案3(DONE) │     │
│   │ 方案2(DONE) │               │ 方案4(DRAFT)│     │
│   └─────────────┘               └─────────────┘     │
│         ↑                              ↑            │
│         │ 只能访问                      │ 只能访问   │
│         │                              │            │
│   ┌─────┴─────┐                 ┌──────┴────┐      │
│   │  Token A  │                 │  Token B  │      │
│   └───────────┘                 └───────────┘      │
└──────────────────────────────────────────────────────┘
```

### 课程内容（3小时）

#### 第一阶段：微信登录实现（60分钟）

**小程序端（Manus）**：
```
Manus提示词：
"实现小程序微信登录功能：
1. 调用wx.login获取code
2. 将code发送到后端/api/auth/wx-login
3. 后端返回token存储到本地
4. 后续请求在header中携带token"
```

**后端实现（Claude Code）**：
```
Claude Code提示词：
"实现微信登录后端逻辑：
1. 接收小程序code
2. 调用微信API获取openid
3. 查找或创建用户
4. 生成JWT token返回
5. JWT有效期7天，支持刷新"
```

#### 第二阶段：请求拦截与权限校验（60分钟）

**后端拦截器**：
```
Claude Code提示词：
"添加JWT认证拦截器：
1. 所有/api/plans/**请求需要token
2. 从token解析出userId
3. 查询方案时自动添加userId条件
4. 无token或token过期返回401"
```

**小程序请求封装**：
```
Manus提示词：
"修改小程序的请求工具：
1. 自动在header添加Authorization: Bearer {token}
2. 收到401响应时跳转登录页
3. token即将过期时自动刷新"
```

#### 第三阶段：数据隔离验证（45分钟）

**测试场景**：
| 操作 | 预期结果 |
|------|---------|
| 用户A创建方案 | 方案的userId = A |
| 用户A查询列表 | 只返回A的方案 |
| 用户A访问用户B的方案 | 返回404或403 |
| 无token访问API | 返回401 |

**Manus测试提示词**：
```
"编写测试用例验证数据隔离：
1. 模拟两个用户分别创建方案
2. 验证用户只能看到自己的方案
3. 验证跨用户访问被拒绝"
```

#### 第四阶段：完整系统演示（15分钟）

**演示流程**：
1. 用户微信扫码登录
2. 粘贴小红书链接导入内容
3. 创建团建方案（草稿）
4. 提交AI生成
5. 查看生成结果并确认
6. 方案列表查看历史记录

### 课后作业
1. 实现"退出登录"功能
2. 添加用户头像和昵称展示
3. 思考：如何实现"方案分享给他人查看"功能？

---

## 工具使用指南

### Manus vs Claude Code 选择原则

| 场景 | 推荐工具 | 原因 |
|------|---------|------|
| 创建新文件/页面 | Manus | 擅长从零生成 |
| UI布局和样式 | Manus | 可视化反馈好 |
| 简单CRUD接口 | Manus | 模式固定 |
| 复杂业务逻辑 | Claude Code | 需要理解上下文 |
| 调试错误 | Claude Code | 需要分析日志 |
| 重构现有代码 | Claude Code | 需要理解现有结构 |

### 常见问题与Manus提示词

**问题1：页面样式错乱**
```
"检查我的小程序页面样式，当前问题是[描述问题]，
帮我修复并解释原因"
```

**问题2：API调用失败**
```
"我的小程序调用后端API失败，错误信息是[错误内容]，
帮我排查原因并给出解决方案"
```

**问题3：数据库连接问题**
```
"Docker启动MySQL后，Java服务连接失败，
帮我检查配置并给出正确的连接字符串"
```

---

## 附录：技术栈版本清单

| 技术 | 版本 | 用途 |
|------|------|------|
| 微信小程序基础库 | 3.0+ | 前端框架 |
| Java | 17 | 后端语言 |
| Spring Boot | 3.2 | 后端框架 |
| MySQL | 8.0 | 数据库 |
| Docker | 24+ | 容器化 |
| Manus | - | AI编程助手 |
| Claude Code | - | AI编程助手（复杂场景） |

---

## 版本历史

| 版本 | 日期 | 变更内容 |
|------|------|---------|
| v1.0 | 2026-01-21 | 初版课程大纲 |
