# æ’­å®¢è‡ªåŠ¨åŒ–æµç¨‹æ€»ç»“

> æ¯æ—¥ç§‘æŠ€æ’­å®¢è‡ªåŠ¨ç”Ÿæˆ + é£ä¹¦é€šçŸ¥ï¼ˆå·²é…ç½®å®Œæˆï¼‰

---

## å®Œæ•´æµç¨‹

```
ã€æ¯å°æ—¶æ”¶é›†ã€‘0:00 - 6:00
â”œâ”€ æ¯å°æ—¶æ•´ç‚¹æ‰§è¡Œ hourly_collect.py
â”œâ”€ ä» RSS æºè·å–æœ€æ–°æ–°é—»
â””â”€ è¿½åŠ åˆ° cache/YYYY-MM-DD-news.json

ã€æ—©ä¸Šç”Ÿæˆã€‘7:00
â”œâ”€ æ­¥éª¤1: ä»ç¼“å­˜ä¼˜é€‰ Top 10 æ–°é—»
â”‚   â””â”€ GPT-4o-mini è¯„ä¼°è´¨é‡
â”œâ”€ æ­¥éª¤2: ç”Ÿæˆæ’­å®¢å†…å®¹
â”‚   â”œâ”€ ğŸ“ script-YYYY-MM-DD.md (è®²ç¨¿)
â”‚   â”œâ”€ ğŸ™ï¸ podcast-YYYY-MM-DD.mp3 (éŸ³é¢‘ï¼Œ15MB)
â”‚   â””â”€ ğŸ–¼ï¸ cover-YYYY-MM-DD.png (å°é¢ï¼Œ380KB)
â”œâ”€ æ­¥éª¤3: å‘é€é£ä¹¦é€šçŸ¥ âœ… æ–°å¢
â”‚   â””â”€ ğŸ“± é€šçŸ¥ç‹æ¤èŒå†…å®¹å·²ç”Ÿæˆ
â””â”€ è¾“å‡ºåˆ°: output/YYYY-MM-DD/dailyReport/
```

---

## é£ä¹¦é€šçŸ¥é…ç½®ï¼ˆå·²å®Œæˆï¼‰

### åº”ç”¨ä¿¡æ¯
- **åº”ç”¨åç§°**: zhimeng'sAgent
- **App ID**: `cli_a8831f109ffc500e`
- **çŠ¶æ€**: âœ… å½“å‰æ”¹ç‰ˆå·²å‘å¸ƒ

### æ¥æ”¶è€…ä¿¡æ¯
- **å§“å**: ç‹æ¤èŒ
- **Open ID**: `ou_18b8063b232cbdec73ea1541dfb74890`
- **User ID**: `zhimeng.wang`

### é€šçŸ¥å†…å®¹
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ™ï¸ ä»Šæ—¥ç§‘æŠ€æ—©æŠ¥å·²ç”Ÿæˆ               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“… æ—¥æœŸ: 2026-01-15                 â”‚
â”‚ ğŸ“° å†…å®¹: ç²¾é€‰ 10 ç¯‡ç§‘æŠ€æ–°é—»         â”‚
â”‚                                     â”‚
â”‚ âœ… ç”ŸæˆçŠ¶æ€: å†…å®¹ç”Ÿæˆå®Œæˆ           â”‚
â”‚                                     â”‚
â”‚ ğŸ“‚ ç”Ÿæˆæ–‡ä»¶:                        â”‚
â”‚ - ğŸ™ï¸ podcast-2026-01-15.mp3       â”‚
â”‚ - ğŸ–¼ï¸ cover-2026-01-15.png         â”‚
â”‚ - ğŸ“ script-2026-01-15.md         â”‚
â”‚                                     â”‚
â”‚ ğŸ“ æ–‡ä»¶ä½ç½®: output/2026-01-15/    â”‚
â”‚               dailyReport/          â”‚
â”‚                                     â”‚
â”‚ ğŸ’¡ ä¸‹ä¸€æ­¥æ“ä½œ:                      â”‚
â”‚ - æŸ¥çœ‹è®²ç¨¿ç¡®è®¤å†…å®¹è´¨é‡             â”‚
â”‚ - è¯•å¬éŸ³é¢‘æ£€æŸ¥è¯­éŸ³æ•ˆæœ             â”‚
â”‚ - æ‰‹åŠ¨ä¸Šä¼ åˆ°æ’­å®¢å¹³å°               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å®šæ—¶ä»»åŠ¡çŠ¶æ€

### å·²å®‰è£…çš„ä»»åŠ¡

| ä»»åŠ¡ | æ‰§è¡Œæ—¶é—´ | è„šæœ¬ | çŠ¶æ€ |
|------|---------|------|------|
| **æ¯å°æ—¶æ”¶é›†** | 0:00-6:00 æ•´ç‚¹ | `hourly_collect.py` | âœ… è¿è¡Œä¸­ |
| **æ¯æ—¥ç”Ÿæˆ** | æ¯å¤© 7:00 | `run_daily.sh` | âœ… è¿è¡Œä¸­ |

### ç®¡ç†å‘½ä»¤

```bash
# æŸ¥çœ‹ä»»åŠ¡çŠ¶æ€
launchctl list | grep daily-podcast-ai

# é‡æ–°åŠ è½½ä»»åŠ¡ï¼ˆä¿®æ”¹é…ç½®åï¼‰
launchctl unload ~/Library/LaunchAgents/com.daily-podcast-ai.plist
launchctl load ~/Library/LaunchAgents/com.daily-podcast-ai.plist

# æŸ¥çœ‹æ—¥å¿—
cat logs/launchd-stdout.log  # æ ‡å‡†è¾“å‡º
cat logs/launchd-stderr.log  # é”™è¯¯æ—¥å¿—
cat logs/daily-$(date +%Y-%m-%d).log  # æ¯æ—¥è¯¦ç»†æ—¥å¿—
```

---

## æ‰‹åŠ¨æµ‹è¯•å‘½ä»¤

```bash
# æµ‹è¯•å®Œæ•´æµç¨‹ï¼ˆç”Ÿæˆ + é€šçŸ¥ï¼‰
./scripts/run_daily.sh

# ä»…æµ‹è¯•é£ä¹¦é€šçŸ¥
python scripts/notify_feishu.py --date 2026-01-15 --article-count 10

# ä»…ç”Ÿæˆæ’­å®¢ï¼ˆä¸é€šçŸ¥ï¼‰
python scripts/daily_generate.py --date 2026-01-15 --from-cache
```

---

## æ–‡ä»¶ä½ç½®

### é…ç½®æ–‡ä»¶
- **ç¯å¢ƒå˜é‡**: `.env`ï¼ˆå·²é…ç½®é£ä¹¦å‡­è¯ï¼‰
- **å®šæ—¶ä»»åŠ¡**: `~/Library/LaunchAgents/com.daily-podcast-ai*.plist`

### è¾“å‡ºæ–‡ä»¶
```
output/
â””â”€â”€ YYYY-MM-DD/
    â””â”€â”€ dailyReport/
        â”œâ”€â”€ script-YYYY-MM-DD.md      # æ’­å®¢è®²ç¨¿
        â”œâ”€â”€ cover-YYYY-MM-DD.png      # å°é¢å›¾ç‰‡ (1400x1400px)
        â”œâ”€â”€ podcast-YYYY-MM-DD.mp3    # éŸ³é¢‘æ–‡ä»¶ (~15MB)
        â””â”€â”€ audio/                    # éŸ³é¢‘ç‰‡æ®µï¼ˆè°ƒè¯•ç”¨ï¼‰
            â”œâ”€â”€ YYYY-MM-DD_intro.mp3
            â”œâ”€â”€ YYYY-MM-DD_segment_*.mp3
            â””â”€â”€ YYYY-MM-DD_outro.mp3
```

### æ—¥å¿—æ–‡ä»¶
```
logs/
â”œâ”€â”€ daily-YYYY-MM-DD.log      # æ¯æ—¥ç”Ÿæˆè¯¦ç»†æ—¥å¿—
â”œâ”€â”€ hourly-stdout.log         # æ¯å°æ—¶æ”¶é›†æ—¥å¿—
â”œâ”€â”€ launchd-stdout.log        # å®šæ—¶ä»»åŠ¡æ ‡å‡†è¾“å‡º
â””â”€â”€ launchd-stderr.log        # å®šæ—¶ä»»åŠ¡é”™è¯¯æ—¥å¿—
```

---

## æ˜å¤©çš„è‡ªåŠ¨åŒ–æµç¨‹

æ˜å¤©ï¼ˆ2026-01-16ï¼‰æ—©ä¸Š 7:00 ä¼šè‡ªåŠ¨æ‰§è¡Œï¼š

1. **0:00 - 6:00**: æ¯å°æ—¶æ”¶é›†æ–°é—»åˆ°ç¼“å­˜
2. **7:00**:
   - AI ä¼˜é€‰ Top 10 æ–°é—»
   - ç”Ÿæˆè®²ç¨¿ã€éŸ³é¢‘ã€å°é¢
   - å‘é€é£ä¹¦é€šçŸ¥ç»™ç‹æ¤èŒ
3. **ä½ æ”¶åˆ°é€šçŸ¥å**:
   - æŸ¥çœ‹ `output/2026-01-16/dailyReport/`
   - è¯•å¬éŸ³é¢‘
   - æ‰‹åŠ¨ä¸Šä¼ åˆ°æ’­å®¢å¹³å°ï¼ˆæˆ–é…ç½®è‡ªåŠ¨å‘å¸ƒï¼‰

---

## ä¸‹ä¸€æ­¥ä¼˜åŒ–ï¼ˆå¯é€‰ï¼‰

å¦‚æœæƒ³è¦è‡ªåŠ¨ä¸Šä¼ åˆ°æ’­å®¢å¹³å°ï¼š

1. **é…ç½® RSS.com**ï¼ˆå‚è€ƒ `SETUP_CLOUD_STORAGE.md`ï¼‰
   - æ³¨å†Œ RSS.com è´¦å·
   - åˆ›å»ºæ’­å®¢
   - é…ç½® `.env` ä¸­çš„ `RSS_COM_API_KEY` å’Œ `RSS_COM_PODCAST_ID`

2. **ä¿®æ”¹ run_daily.sh**ï¼Œæ·»åŠ å‘å¸ƒæ­¥éª¤ï¼š
   ```bash
   # åœ¨æ­¥éª¤3ä¹‹åæ·»åŠ 
   # æ­¥éª¤4: è‡ªåŠ¨å‘å¸ƒåˆ° RSS.com
   python scripts/publish_to_rss.py --date "$TODAY"
   ```

3. **å°å®‡å®™è®¢é˜… RSS**ï¼ˆä¸€æ¬¡æ€§é…ç½®ï¼‰
   - è®¿é—® https://podcaster.xiaoyuzhoufm.com/
   - æ·»åŠ  RSS è®¢é˜…

---

## å¿«é€Ÿå‚è€ƒ

| éœ€æ±‚ | å‘½ä»¤ |
|------|------|
| æŸ¥çœ‹ä»Šå¤©æ’­å®¢ | `ls output/$(date +%Y-%m-%d)/dailyReport/` |
| è¯•å¬éŸ³é¢‘ | `open output/$(date +%Y-%m-%d)/dailyReport/podcast-*.mp3` |
| æŸ¥çœ‹æ—¥å¿— | `cat logs/daily-$(date +%Y-%m-%d).log` |
| æµ‹è¯•é€šçŸ¥ | `python scripts/notify_feishu.py --date $(date +%Y-%m-%d) --article-count 10` |
| æ‰‹åŠ¨ç”Ÿæˆ | `./scripts/run_daily.sh` |
