# 狼人杀复盘短剧 - 3分钟快速开始

从零到生成你的第一个狼人杀复盘视频。

---

## ⚡ 最快路径（3步）

### Step 1: 安装依赖（1分钟）

```bash
cd apps/daily-podcast-ai
pip install -r requirements.txt
```

### Step 2: 配置API Keys（2分钟）

```bash
# 1. 复制配置模板
cp .env.example .env

# 2. 编辑 .env 文件，添加你的API Keys
# GOOGLE_API_KEY=你的Google AI Key        # https://aistudio.google.com/apikey
# ELEVENLABS_API_KEY=你的ElevenLabs Key   # https://elevenlabs.io/app/settings/api-keys
```

### Step 3: 生成第一个视频（10分钟）

```bash
# 一键生成
python scripts/generate_werewolf_drama.py

# 等待10分钟后，视频生成完成
# 查看结果:
open output/werewolf-drama/classic_win/2026-01-08/狼人杀单局复盘-预女猎翻盘局.mp4
```

---

## 🎬 生成结果预览

运行成功后你会看到：

```
========================================================
🎬 开始生成漫画短剧: 狼人杀单局复盘-预女猎翻盘局
========================================================

📍 步骤 1/3: 生成漫画图像（共 7 帧）
------------------------------------------------------------
🎨 开始生成漫画序列，共 7 帧
  [1/7] 生成: 俯视视角的圆桌会议室，12个座位呈圆形排列...
    ✅ 完成
  [2/7] 生成: 夜晚场景，月光洒在桌面上...
    ✅ 完成
  ... (继续)
✅ 图像生成完成，共 7 帧

📍 步骤 2/3: 生成角色配音（共 8 段）
------------------------------------------------------------
  [1/8] 配音: 解说...
    ✅ 完成
  ... (继续)

📍 步骤 3/3: 合成最终视频
------------------------------------------------------------
🎬 开始合成视频，共 8 个片段
  🔗 拼接 8 个视频片段...
  💾 导出视频: output/.../狼人杀单局复盘-预女猎翻盘局.mp4
✅ 视频合成完成!

========================================================
✅ 漫画短剧生成完成！
📁 输出文件: output/werewolf-drama/classic_win/2026-01-08/...
📊 统计:
   - 图像帧数: 7
   - 总时长: 75.0 秒 (1.2 分钟)
   - 分辨率: 1920x1080
   - 帧率: 24 FPS
   - 字幕: 是
========================================================
```

---

## 📂 输出文件结构

```
output/werewolf-drama/classic_win/2026-01-08/
├── frames/                              # 生成的图像帧
│   ├── frame_000.png                    # 场景1: 角色介绍
│   ├── frame_001.png                    # 场景2: 第1晚
│   ├── frame_002.png                    # 场景3: 第2天早上
│   ├── frame_003.png                    # ...
│   ├── frame_004.png
│   ├── frame_005.png
│   └── frame_006.png                    # 场景7: 复盘总结
│
├── audio/                               # 配音文件
│   ├── dialogue_000.mp3
│   ├── dialogue_001.mp3
│   └── ...
│
└── 狼人杀单局复盘-预女猎翻盘局.mp4    # 最终视频 ⭐
```

---

## 🎮 内置剧本说明

### 1. classic_win（默认）⭐

**主题**：好人团队配合翻盘
**亮点**：
- 女巫第1晚救预言家
- 预言家准确验狼
- 猎人精准带人
- PK环节惊险胜利

**适合**：新手学习神职配合

---

### 2. wolf_betrayal

**主题**：狼队内讧导致失败
**亮点**：
- 5号狼悍跳验队友
- 2号狼愤怒反击
- 狼队自相残杀
- 搞笑名场面

**适合**：娱乐向内容

---

### 3. epic_comeback

**主题**：3打2绝境翻盘
**亮点**：
- 好人陷入绝境
- 预言家冷静推理
- 猎人坚定支持
- 逆转获胜

**适合**：高光时刻集锦

---

### 4. perfect_wolf

**主题**：狼队完美配合
**亮点**：
- 悍跳、冲锋、倒钩战术
- 第1天投出真预言家
- 狼队控场获胜
- 教科书级操作

**适合**：狼队战术教学

---

## 🎯 使用场景

### 场景1: 游戏UP主

```bash
# 录制一局游戏 → 整理剧本 → 生成复盘视频

# 1. 根据录像整理剧本
# 2. 修改 werewolf_game_scripts.py 添加新剧本
# 3. 生成视频
python scripts/generate_werewolf_drama.py my_game_2026_01_08

# 4. 发布到B站
```

### 场景2: 批量生成教学系列

```bash
# 一次生成所有内置剧本
for script in classic_win wolf_betrayal epic_comeback perfect_wolf; do
    python scripts/generate_werewolf_drama.py $script
done

# 得到4个不同主题的视频，组成系列
```

### 场景3: 短视频平台引流

```bash
# 1. 生成竖屏版本（修改 config/comic.yaml）
# 2. 剪辑成15-60秒片段
# 3. 添加BGM和特效
# 4. 发布到抖音/快手
```

---

## 💡 创作技巧

### 提升视觉效果

1. **使用特写镜头**
   ```python
   "description": "特写镜头：3号玩家紧张的表情，汗珠滑落，
   背景虚化，漫画风格"
   ```

2. **添加动态元素**
   ```python
   "description": "投票箭头从各个座位飞向7号位，
   汇聚成光，击中目标，动感漫画风格"
   ```

3. **使用图标和符号**
   ```python
   "description": "卡牌上方显示清晰的红色狼爪图标、
   金色眼睛图标（预言家）、绿色十字图标（女巫），
   符号清晰可辨"
   ```

### 提升音频效果

1. **控制语速**
   - 紧张场景：快速（duration 减少10-20%）
   - 分析场景：缓慢（duration 增加10-20%）

2. **添加停顿**
   ```python
   "dialogue": "我是预言家... 昨晚验出7号是狼！"  # "..." 会产生自然停顿
   ```

3. **语气词使用**
   ```python
   "dialogue": "哇！真的是狼啊！"  # 感叹词增强情绪
   "dialogue": "这... 这怎么可能？"  # 停顿词增加悬念
   ```

---

## 📊 性能优化

### 加快生成速度

1. **降低图像质量**（不影响观感）
   ```yaml
   # config/comic.yaml
   video:
     resolution: "1280x720"  # 从1080p降到720p
     bitrate: "3000k"        # 降低比特率
   ```

2. **并行生成**（需要修改代码）
   - 图像生成和配音可以并行
   - 需要改造为异步调用

3. **缓存复用**
   - 相同场景的背景图可以复用
   - 角色外观可以作为参考图缓存

---

## 🎁 额外资源

### 免费狼人杀音效库

可以添加到视频中增强效果：

- **夜晚氛围音**：狼嚎、猫头鹰叫声
- **白天氛围音**：鸟鸣、脚步声
- **特效音**：刀人音效、验人音效、投票音效

下载地址：
- https://freesound.org（搜索 "werewolf"）
- https://pixabay.com/music/（免费商用）

### 字幕字体推荐

下载后放到 `fonts/` 目录：

- **思源黑体**：SourceHanSansCN-Bold.otf
  - 下载：https://github.com/adobe-fonts/source-han-sans

- **站酷快乐体**：适合活泼风格
  - 下载：https://www.zcool.com.cn/special/zcoolfonts/

---

## 🚀 现在开始

```bash
# 1. 确认在正确目录
cd apps/daily-podcast-ai

# 2. 运行测试
python scripts/test_comic_generation.py

# 3. 生成你的第一个狼人杀复盘视频
python scripts/generate_werewolf_drama.py

# 4. 坐下来享受成果！
```

**预计时间**：
- 首次安装：5分钟
- 配置API：3分钟
- 生成视频：10分钟
- **总计：18分钟从零到成品！**

---

祝你玩得开心！🐺🎬
